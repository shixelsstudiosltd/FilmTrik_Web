define(["jquery","underscore","backbone"],function($,t,i){var n=i.Model.extend({initialize:function(){t.bindAll(this)},count:function(){return Filmtrik.cart.items.length},qty_up:function(t){t.qty++},qty_down:function(t){t.qty--,0===t.qty&&this.remove(t)},remove:function(t){var i=Filmtrik.cart.items.indexOf(t);~i&&Filmtrik.cart.items.splice(i,1)},item:function(t){return Filmtrik.cart.items[t]},clear:function(){Filmtrik.cart.items=[]},add:function(t){Filmtrik.cart.items.push(t)},edit:function(t,i,n){var r=Filmtrik.cart.items.indexOf(t)},total:function(){for(var t=null,i=0;i<Filmtrik.cart.count();i++)t+=parseInt(Filmtrik.cart.items[i].price.replace(/\D/g,""));return t}});return n});